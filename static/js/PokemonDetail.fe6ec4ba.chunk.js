(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{61:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(65),c=a.n(n),l=(a(62),a(17)),o=function(e,t){var a=e.id;return function(e){Promise.all([c.a.get("https://pokeapi.co/api/v2/pokemon/".concat(a)),c.a.get("https://pokeapi.co/api/v2/pokemon-species/".concat(a))]).then((function(t){var a,n,o,i,r=(null===(a=t[0])||void 0===a?void 0:a.data)||{},s=(null===(n=t[1])||void 0===n?void 0:n.data)||{},m=null==r||null===(o=r.abilities[0])||void 0===o||null===(i=o.ability)||void 0===i?void 0:i.url;c.a.get(m).then((function(t){var a=t.data,n=a.names,c=a.flavor_text_entries;e({type:l.a,payload:{basicInfo:r,species:s,abilities:{label:n,desc:c}}})}))})).finally((function(){t()}))}},i=function(e){return function(t,a){var n=a().pokemon.myPokeIds,c=n.includes(e)?n.filter((function(t){return t!==e})):n.push(e);t({type:l.b,payload:c})}}},63:function(e,t,a){},64:function(e,t,a){"use strict";var n=a(0),c=a.n(n),l=a(24),o=a(23),i=a(61),r=a(7),s=function(e){var t=e.id,a=String(t),s=Object(l.c)(),m=Object(l.d)((function(e){return e.pokemon.myPokeIds})),u=Object(n.useMemo)((function(){return Object(o.a)("save-my-poke-btn",{active:m.includes(a)})}),[a,m]),d=Object(n.useMemo)((function(){return m.includes(a)?r.d:r.h}),[a,m]),v=Object(n.useCallback)((function(e){e.stopPropagation(),s(Object(i.b)(a))}),[s,a]);return c.a.createElement("img",{className:u,alt:"save-my-poke-btn",src:d,onClick:function(e){v(e,a)}})};a(63),t.a=s},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(24),c=a(61),l=a(28),o=a.n(l),i=a(25),r=a.n(i),s=a(0),m=a.n(s),u=a(1),d=a(5),v=a.n(d),b=a(95),g=a.n(b),f=a(6),p=a(59),N=a(62),E=a.n(N),k=a(23),j=a(96),O=a.n(j),y=a(64),h=a(7),w=a(8),I={en:"en","zh-Hant":"zh-TW"},M=function(e){var t,a=e.getPokemonDetail,n=e.pokemonDetail,c=Object(p.a)().t,l=Object(u.f)(),i=Object(u.e)(),d=E.a.parse(l.search).id,v=Object(s.useRef)(null),b=Object(s.useState)(!1),g=r()(b,2),N=g[0],j=g[1],M=Object(s.useState)(!1),x=r()(M,2),D=x[0],P=x[1],S=Object(s.useMemo)((function(){return n.get("basicInfo")}),[n]),T=Object(s.useMemo)((function(){return n.get("species")}),[n]),_=Object(s.useMemo)((function(){return n.get("abilities")}),[n]),C=Object(s.useMemo)((function(){return S.get("name")}),[S]),z=Object(s.useMemo)((function(){return d.toString().padStart(3,"0")}),[d]),J=Object(s.useMemo)((function(){return S.getIn(["types",0,"type","name"],"")}),[S]),A=Object(s.useMemo)((function(){var e;return null===(e=T.get("genera"))||void 0===e?void 0:e.filter((function(e){return I[e.getIn(["language","name"])]===f.a.language})).getIn([0,"genus"],"")}),[T,f.a.language]),B=Object(s.useMemo)((function(){var e;return null===(e=T.get("flavor_text_entries"))||void 0===e?void 0:e.filter((function(e){return I[e.getIn(["language","name"])]===f.a.language})).getIn([0,"flavor_text"],"")}),[T,f.a.language]),L=Object(s.useMemo)((function(){return _.size>0?{desc:_.get("desc",[]).filter((function(e){return I[e.getIn(["language","name"])]===f.a.language})).getIn([0,"flavor_text"],""),label:_.get("label",[]).filter((function(e){return I[e.getIn(["language","name"])]===f.a.language})).getIn([0,"name"],"")}:{}}),[_,f.a.language]),F=Object(s.useMemo)((function(){var e;return null===(e=S.get("stats"))||void 0===e?void 0:e.map((function(e){return{label:e.getIn(["stat","name"]),value:e.get("base_stat")}})).toJS()}),[S]),H=Object(s.useCallback)((function(e){"pre"===e?i.push("".concat(w.a.DETAIL,"?id=").concat(Number(d)-1)):"next"===e&&i.push("".concat(w.a.DETAIL,"?id=").concat(Number(d)+1))}),[d,i]),R=Object(s.useMemo)((function(){var e=Number(d)-1<=0,t=Number(d)+1>898;return[m.a.createElement("img",{key:"prePokeDetailBtn",className:Object(k.a)("arrow-btn left",{disabled:e}),src:h.a,alt:"arrow-icon",onClick:function(){!e&&H("pre")}}),m.a.createElement("img",{key:"nextPokeDetailBtn",className:Object(k.a)("arrow-btn right",{disabled:t}),src:h.a,alt:"arrow-icon",onClick:function(){!t&&H("next")}})]}),[d,H]),W=r()(R,2),q=W[0],G=W[1],K=Object(s.useCallback)((function(){j(!0),P(!1),clearTimeout(v.current),a({id:d},(function(){j(!1),v.current=setTimeout((function(){P(!0)}),600)}))}),[a,d]);return Object(s.useEffect)((function(){K()}),[K]),Object(s.useEffect)((function(){return function(){clearTimeout(v.current)}}),[]),m.a.createElement("div",{className:"pokedex-detail"},N||String(S.get("id"))!==d?m.a.createElement("div",{className:"pokemon"},c("common.loading")):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"title"},m.a.createElement("div",{className:"name"},c("pokemonNames.".concat(C))),m.a.createElement("div",{className:"id"},"#".concat(z))),m.a.createElement("div",{className:Object(k.a)("pokemon",o()({},J,!!J))},q,m.a.createElement("div",{className:"data-box"},m.a.createElement("div",{className:"block"},m.a.createElement(y.a,{id:d}),m.a.createElement("div",{className:"img-container"},m.a.createElement("img",{className:"poke-photo",src:"https://assets.pokemon.com/assets/cms2/img/pokedex/full/".concat(z,".png"),alt:C}))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1-1"},m.a.createElement("div",{className:"label"},c("common.states")),m.a.createElement("div",{className:"content"},null==F?void 0:F.map((function(e,t){var a=e.label,n=e.value,l=O.a.div(n,300).mul(100).toNumber();return m.a.createElement("div",{key:"state-".concat(t),className:"state"},m.a.createElement("div",{className:"label"},c("common.".concat(a))),m.a.createElement("div",{className:"value"},m.a.createElement("div",{className:Object(k.a)("bar",{full:100===l}),style:D?{width:"".concat(l,"%")}:{}}),m.a.createElement("span",null,"".concat(n," / 300"))))})))))),m.a.createElement("div",{className:"data-box"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1-2"},m.a.createElement("div",{className:"label"},c("common.height")),m.a.createElement("div",{className:"content"},"".concat(O.a.div(S.get("height",0),10).toNumber()," m"))),m.a.createElement("div",{className:"col-1-2"},m.a.createElement("div",{className:"label"},c("common.weight")),m.a.createElement("div",{className:"content"},"".concat(O.a.div(S.get("weight",0),10).toNumber()," kg")))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1-1"},m.a.createElement("div",{className:"label"},c("common.types")),m.a.createElement("div",{className:"content"},null===(t=S.get("types"))||void 0===t?void 0:t.map((function(e){var t=e.getIn(["type","name"]);return m.a.createElement("div",{key:t,className:Object(k.a)("type",o()({},t,!0))},c("common.".concat(t)))}))))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1-1"},m.a.createElement("div",{className:"label"},c("common.category")),m.a.createElement("div",{className:"content"},A),m.a.createElement("div",{className:"content desc"},B))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-1-1"},m.a.createElement("div",{className:"label"},c("common.ability")),m.a.createElement("div",{className:"content"},L.label),m.a.createElement("div",{className:"content desc"},L.desc)))),G)))};M.propTypes={getPokemonDetail:v.a.func,pokemonDet:g.a.map};var x=M,D=(a(97),x),P=Object(n.b)((function(e){return{pokemonDetail:e.pokemon.pokemonDetail}}),{getPokemonDetail:c.a})(D);t.default=P}}]);